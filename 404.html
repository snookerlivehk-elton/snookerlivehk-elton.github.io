<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Redirecting...</title>
    <script>
      // GitHub Pages fallback: special-case /admin to admin-login, otherwise SPA redirect to index
      (function() {
        try {
          var path = window.location.pathname || '/';
          var search = window.location.search || '';
          var hash = window.location.hash || '';
          // Special-case: if visiting /admin or /admin/, redirect to admin-login.html and preserve query/hash
          if (path === '/admin' || path === '/admin/') {
            window.location.replace('/admin-login.html' + search + hash);
            return;
          }
          var base = '/';
          // If already at base, no need to redirect
          if (path === base || path === base.replace(/\/$/, '')) return;
          // Strip base from path to avoid duplicating it in ?redirect=
          var stripped = (function(p){
            if (p.indexOf(base) === 0) return p.slice(base.length);
            if (p.charAt(0) === '/') return p.slice(1);
            return p;
          })(path);
          var target = base + '?redirect=' + encodeURIComponent(stripped + search + hash);
          window.location.replace(target);
        } catch (e) {
          // Fallback: go to base
          window.location.replace('/');
        }
      })();
    </script>
  </head>
  <body></body>
  </html>
